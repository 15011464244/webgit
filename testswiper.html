<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>我的生活</title>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <link rel="stylesheet" href="//g.alicdn.com/msui/sm/0.6.2/css/sm.min.css">
    <link rel="stylesheet" href="//g.alicdn.com/msui/sm/0.6.2/css/sm-extend.min.css">

  </head>
  <body>
    <div class="page-group">
        <div class="page page-current">
        <!-- 你的html代码 -->
			<div class="content infinite-scroll infinite-scroll-bottom" data-distance="100">
          <div class="list-block">
              <ul class="list-container">
              </ul>
          </div>
          <!-- 加载提示符 -->
          <div class="infinite-scroll-preloader">
              <div class="preloader"></div>
          </div>
      </div>
        fasdfasfas
        </div>
    </div>

    <script type='text/javascript' src='//g.alicdn.com/sj/lib/zepto/zepto.min.js' charset='utf-8'></script>
    <script type='text/javascript' src='//g.alicdn.com/msui/sm/0.6.2/js/sm.min.js' charset='utf-8'></script>
    <script type='text/javascript' src='//g.alicdn.com/msui/sm/0.6.2/js/sm-extend.min.js' charset='utf-8'></script>
    <script type="text/javascript">
    // var container =  document.getElementByClass("list-container");
    // $.attachInfiniteScroll(container){
    // 	console.log("this");
    // }

     $.init();
    	  var loading = false;
      // 最多可加载的条目
      var maxItems = 100;

      // 每次加载添加多少条目
      var itemsPerLoad = 20;
      $.ajax({
  type: 'GET',
  url: 'http://yx.xianjian.com/p/api.php?method=wf&api_key=nimakdkeiLdkfen2lidkdlDLLEKd&page=1&per_page=10&tag=&type=5&order=2&_ksTS=1494829656978_32&jsoncallback=?',
  // data to be added to query string:
  // data: { name: 'Zepto.js' },
  // type of data we are expecting in return:
  dataType: 'jsonp',
    jsonp:"callback",
    jsonpCallback:"success_jsonpCallback",
  // timeout: 300,
  // context: $('body'),
  success: function(data){
    // Supposing this JSON payload was received:
    //   {"project": {"id": 42, "html": "<div>..." }}
    // append the HTML to context object.
    // this.append(data.project.html)
    console.log("daf");
  },
  error: function(xhr, type){
    alert('Ajax error!')
  }
})

// post a JSON payload:
// $.ajax({
//   type: 'POST',
//   url: '/projects',
//   // post payload:
//   data: JSON.stringify({ name: 'Zepto.js' }),
//   contentType: 'application/json'
// })


      function addItems(number, lastIndex) {
              // 生成新条目的HTML
              var html = '';
              for (var i = lastIndex + 1; i <= lastIndex + number; i++) {
                  html += '<li class="item-content"><div class="item-inner"><div class="item-title">Item ' + i + '</div></div></li>';
              }
              // 添加新条目
              $('.infinite-scroll-bottom .list-container').append(html);

          }
          //预先加载20条
      addItems(itemsPerLoad, 0);

      // 上次加载的序号

      var lastIndex = 20;

      // 注册'infinite'事件处理函数
      $(document).on('infinite', '.infinite-scroll-bottom',function() {
      	console.log("this");

          // 如果正在加载，则退出
          if (loading) return;

          // 设置flag
          loading = true;

          // 模拟1s的加载过程
          setTimeout(function() {
              // 重置加载flag
              loading = false;

              if (lastIndex >= maxItems) {
                  // 加载完毕，则注销无限加载事件，以防不必要的加载
                  $.detachInfiniteScroll($('.infinite-scroll'));
                  // 删除加载提示符
                  $('.infinite-scroll-preloader').remove();
                  return;
              }

              // 添加新条目
              addItems(itemsPerLoad, lastIndex);
              // 更新最后加载的序号
              lastIndex = $('.list-container li').length;
              //容器发生改变,如果是js滚动，需要刷新滚动
              $.refreshScroller();
          }, 1000);
      });

    </script>

  </body>
</html>

{"hero":[{"id":"11","0":"11","hero_id":"115","1":"115","hero_name":"\u9ad8\u6e10\u79bb","2":"\u9ad8\u6e10\u79bb","hero_title":"\u53db\u9006\u541f\u6e38","3":"\u53db\u9006\u541f\u6e38","hero_desc":"\u7231\u60c5\u4e0e\u6b7b\u4ea1\uff0c\u662f\u8fd9\u4f4d\u53db\u9006\u4e50\u5e08\u6f14\u594f\u7684\u6c38\u6052\u4e50\u7ae0\u3002","4":"\u7231\u60c5\u4e0e\u6b7b\u4ea1\uff0c\u662f\u8fd9\u4f4d\u53db\u9006\u4e50\u5e08\u6f14\u594f\u7684\u6c38\u6052\u4e50\u7ae0\u3002","hp_per5":"44","5":"44","max_hp":"3122","6":"3122","atk_range":"\u8fdc\u7a0b        ","7":"\u8fdc\u7a0b        ","hero_img_id":"301150","8":"301150","move_speed":"3600","9":"3600","magic_defense":"50","10":"50","physical_defense":"98","11":"98","img":"http:\/\/cdn.tgp.qq.com\/kog\/v3\/images\/heroPortrait\/301150.png"},{"id":"12","0":"12","hero_id":"116","1":"116","hero_name":"\u8346\u8f72","2":"\u8346\u8f72","hero_title":"\u6b7b\u4ea1\u4e4b\u5203","3":"\u6b7b\u4ea1\u4e4b\u5203","hero_desc":"\u4e0d\u662f\u4f60\u8bb0\u5fc6\u4e2d\u7684\u8346\u8f72\uff0c\u4f46\u81f4\u547d\u7684\u7a0b\u5ea6\u6ca1\u4e24\u6837\u3002","4":"\u4e0d\u662f\u4f60\u8bb0\u5fc6\u4e2d\u7684\u8346\u8f72\uff0c\u4f46\u81f4\u547d\u7684\u7a0b\u5ea6\u6ca1\u4e24\u6837\u3002","hp_per5":"47","5":"47","max_hp":"3113","6":"3113","atk_range":"\u8fd1\u7a0b        ","7":"\u8fd1\u7a0b        ","hero_img_id":"301160","8":"301160","move_speed":"3800","9":"3800","magic_defense":"50","10":"50","physical_defense":"89","11":"89","img":"http:\/\/cdn.tgp.qq.com\/kog\/v3\/images\/heroPortrait\/301160.png"},{"id":"13","0":"13","hero_id":"117","1":"117","hero_name":"\u949f\u65e0\u8273","2":"\u949f\u65e0\u8273","hero_title":"\u949f\u65e0\u8273","3":"\u949f\u65e0\u8273","hero_desc":"\u9738\u5360\uff01\u6467\u6bc1\uff01\u7834\u574f\uff01\u2014\u2014\u91ce\u86ee\u5973\u53cb\u7684\u7231\u60c5\uff0c\u597d\u597d\u4eab\u53d7\u5427\uff01","4":"\u9738\u5360\uff01\u6467\u6bc1\uff01\u7834\u574f\uff01\u2014\u2014\u91ce\u86ee\u5973\u53cb\u7684\u7231\u60c5\uff0c\u597d\u597d\u4eab\u53d7\u5427\uff01","hp_per5":"56","5":"56","max_hp":"3666","6":"3666","atk_range":"\u8fd1\u7a0b        ","7":"\u8fd1\u7a0b        ","hero_img_id":"301170","8":"301170","move_speed":"3800","9":"3800","magic_defense":"50","10":"50","physical_defense":"125","11":"125","img":"http:\/\/cdn.tgp.qq.com\/kog\/v3\/images\/heroPortrait\/301170.png"},{"id":"14","0":"14","hero_id":"118","1":"118","hero_name":"\u5b59\u8191","2":"\u5b59\u8191","hero_title":"\u9006\u6d41\u4e4b\u65f6","3":"\u9006\u6d41\u4e4b\u65f6","hero_desc":"\u8fd9\u4e2a\u753b\u98ce\u4e0d\u4e00\u6837\u7684\u5bb6\u4f19\uff0c\u521a\u521a\u4ece\u65f6\u95f4\u7684\u65c5\u884c\u4e2d\u5f52\u6765\u3002","4":"\u8fd9\u4e2a\u753b\u98ce\u4e0d\u4e00\u6837\u7684\u5bb6\u4f19\uff0c\u521a\u521a\u4ece\u65f6\u95f4\u7684\u65c5\u884c\u4e2d\u5f52\u6765\u3002","hp_per5":"45","5":"45","max_hp":"3208","6":"3208","atk_range":"\u8fdc\u7a0b        ","7":"\u8fdc\u7a0b        ","hero_img_id":"301180","8":"301180","move_speed":"3500","9":"3500","magic_defense":"50","10":"50","physical_defense":"98","11":"98","img":"http:\/\/cdn.tgp.qq.com\/kog\/v3\/images\/heroPortrait\/301180.png"},{"id":"15","0":"15","hero_id":"119","1":"119","hero_name":"\u6241\u9e4a","2":"\u6241\u9e4a","hero_title":"\u5584\u6076\u602a\u533b","3":"\u5584\u6076\u602a\u533b","hero_desc":"\u867d\u8bf4\u624b\u672f\u8d39\u5f88\u6602\u8d35\uff0c\u53ef\u522b\u653e\u5f03\u6cbb\u7597\u54e6\uff01","4":"\u867d\u8bf4\u624b\u672f\u8d39\u5f88\u6602\u8d35\uff0c\u53ef\u522b\u653e\u5f03\u6cbb\u7597\u54e6\uff01","hp_per5":"45","5":"45","max_hp":"3205","6":"3205","atk_range":"\u8fdc\u7a0b        ","7":"\u8fdc\u7a0b        ","hero_img_id":"301190","8":"301190","move_speed":"3500","9":"3500","magic_defense":"50","10":"50","physical_defense":"87","11":"87","img":"http:\/\/cdn.tgp.qq.com\/kog\/v3\/images\/heroPortrait\/301190.png"},{"id":"16","0":"16","hero_id":"120","1":"120","hero_name":"\u767d\u8d77","2":"\u767d\u8d77","hero_title":"\u6700\u7ec8\u5175\u5668","3":"\u6700\u7ec8\u5175\u5668","hero_desc":"\u4eba\u95f4\u6700\u5f3a\u7684\u5175\u5668\uff0c\u4f60\u624b\u4e2d\u6240\u5411\u62ab\u9761\u7684\u5229\u5251\u3002","4":"\u4eba\u95f4\u6700\u5f3a\u7684\u5175\u5668\uff0c\u4f60\u624b\u4e2d\u6240\u5411\u62ab\u9761\u7684\u5229\u5251\u3002","hp_per5":"58","5":"58","max_hp":"3510","6":"3510","atk_range":"\u8fd1\u7a0b        ","7":"\u8fd1\u7a0b        ","hero_img_id":"301200","8":"301200","move_speed":"3900","9":"3900","magic_defense":"50","10":"50","physical_defense":"120","11":"120","img":"http:\/\/cdn.tgp.qq.com\/kog\/v3\/images\/heroPortrait\/301200.png"},{"id":"17","0":"17","hero_id":"121","1":"121","hero_name":"\u8288\u6708","2":"\u8288\u6708","hero_title":"\u6b32\u671b\u4e4b\u6708","3":"\u6b32\u671b\u4e4b\u6708","hero_desc":"\u6574\u5bb9\u624b\u672f\u90fd\u662f\u9a97\u4eba\u7684\uff0c\u9752\u6625\u7f8e\u8c8c\u5168\u9760\u628a\u5bf9\u624b\u5438\u5e72\u3002","4":"\u6574\u5bb9\u624b\u672f\u90fd\u662f\u9a97\u4eba\u7684\uff0c\u9752\u6625\u7f8e\u8c8c\u5168\u9760\u628a\u5bf9\u624b\u5438\u5e72\u3002","hp_per5":"46","5":"46","max_hp":"3285","6":"3285","atk_range":"\u8fdc\u7a0b        ","7":"\u8fdc\u7a0b        ","hero_img_id":"301210","8":"301210","move_speed":"3700","9":"3700","magic_defense":"50","10":"50","physical_defense":"88","11":"88","img":"http:\/\/cdn.tgp.qq.com\/kog\/v3\/images\/heroPortrait\/301210.png"},{"id":"18","0":"18","hero_id":"122","1":"122","hero_name":"\u8bf8\u845b\u4eae","2":"\u8bf8\u845b\u4eae","hero_title":"\u7edd\u4ee3\u667a\u8c0b","3":"\u7edd\u4ee3\u667a\u8c0b","hero_desc":"\u8fd0\u7b79\u5e37\u5e44\u4e4b\u4e2d\uff0c\u51b3\u80dc\u5343\u91cc\u4e4b\u5916\u3002","4":"\u8fd0\u7b79\u5e37\u5e44\u4e4b\u4e2d\uff0c\u51b3\u80dc\u5343\u91cc\u4e4b\u5916\u3002","hp_per5":"44","5":"44","max_hp":"3092","6":"3092","atk_range":"\u8fdc\u7a0b        ","7":"\u8fdc\u7a0b        ","hero_img_id":"301220","8":"301220","move_speed":"3400","9":"3400","magic_defense":"50","10":"50","physical_defense":"87","11":"87","img":"http:\/\/cdn.tgp.qq.com\/kog\/v3\/images\/heroPortrait\/301220.png"},{"id":"19","0":"19","hero_id":"123","1":"123","hero_name":"\u5415\u5e03","2":"\u5415\u5e03","hero_title":"\u65e0\u53cc\u4e4b\u9b54","3":"\u65e0\u53cc\u4e4b\u9b54","hero_desc":"\u6211\uff0c\u662f\u8fd9\u4e2a\u4e16\u754c\u7684\u68a6\u9b47\uff01","4":"\u6211\uff0c\u662f\u8fd9\u4e2a\u4e16\u754c\u7684\u68a6\u9b47\uff01","hp_per5":"54","5":"54","max_hp":"3564","6":"3564","atk_range":"\u8fd1\u7a0b        ","7":"\u8fd1\u7a0b        ","hero_img_id":"301230","8":"301230","move_speed":"3700","9":"3700","magic_defense":"50","10":"50","physical_defense":"99","11":"99","img":"http:\/\/cdn.tgp.qq.com\/kog\/v3\/images\/heroPortrait\/301230.png"},{"id":"20","0":"20","hero_id":"124","1":"124","hero_name":"\u5468\u745c","2":"\u5468\u745c","hero_title":"\u94c1\u8840\u90fd\u7763","3":"\u94c1\u8840\u90fd\u7763","hero_desc":"\u8eab\u4e3a\u7537\u4eba\uff0c\u65e0\u6cd5\u8ba9\u6b65\u7684\u53ea\u6709\u4e24\u4ef6\u4e8b\uff1a\u80dc\u5229\u548c\u5c0f\u4e54\u3002","4":"\u8eab\u4e3a\u7537\u4eba\uff0c\u65e0\u6cd5\u8ba9\u6b65\u7684\u53ea\u6709\u4e24\u4ef6\u4e8b\uff1a\u80dc\u5229\u548c\u5c0f\u4e54\u3002","hp_per5":"44","5":"44","max_hp":"3093","6":"3093","atk_range":"\u8fdc\u7a0b        ","7":"\u8fdc\u7a0b        ","hero_img_id":"301240","8":"301240","move_speed":"3500","9":"3500","magic_defense":"50","10":"50","physical_defense":"87","11":"87","img":"http:\/\/cdn.tgp.qq.com\/kog\/v3\/images\/heroPortrait\/301240.png"}]}